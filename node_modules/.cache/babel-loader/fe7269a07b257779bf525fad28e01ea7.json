{"ast":null,"code":"var _jsxFileName = \"/Users/abalamurugan/Desktop/photo-app-react/src/Post.js\";\nimport React from 'react';\nimport LikeButton from './LikeButton';\nimport BookmarkButton from './BookmarkButton';\nimport AddComment from './AddComment';\nimport Comments from './Comments';\nimport { getHeaders } from './utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: props.model\n    };\n    this.refreshPostDataFromServer = this.refreshPostDataFromServer.bind(this);\n  }\n\n  refreshPostDataFromServer() {\n    console.log(\"remakePost\");\n    const url = '/api/posts/' + this.state.post.id;\n    fetch(url, {\n      headers: getHeaders()\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        post: data\n      });\n    });\n  }\n\n  render() {\n    const post = this.state.post;\n\n    if (!post) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: post.user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-ellipsis-h\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: post.image_url,\n        alt: 'Image posted by ' + post.user.username,\n        width: \"300\",\n        height: \"300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(LikeButton, {\n            likeId: post.current_user_like_id,\n            postId: post.id,\n            refreshPost: this.refreshPostDataFromServer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"far fa-comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"far fa-paper-plane\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(BookmarkButton, {\n            bookmarkId: post.current_user_bookmark_id,\n            postId: post.id,\n            refreshPost: this.refreshPostDataFromServer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), \"Additional data / controls go here...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: post.caption\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Comments, {\n        comments: post.comments,\n        postId: post.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AddComment, {\n        postId: post.id,\n        refreshPost: this.refreshPostDataFromServer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/abalamurugan/Desktop/photo-app-react/src/Post.js"],"names":["React","LikeButton","BookmarkButton","AddComment","Comments","getHeaders","Post","Component","constructor","props","state","post","model","refreshPostDataFromServer","bind","console","log","url","id","fetch","headers","then","response","json","data","setState","render","user","username","image_url","current_user_like_id","current_user_bookmark_id","caption","comments"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LikeButton from './LikeButton';\nimport BookmarkButton from './BookmarkButton';\nimport AddComment from './AddComment';\nimport Comments from './Comments';\nimport {getHeaders} from './utils';\n\nclass Post extends React.Component {  \n\n    constructor(props) {\n        super(props);\n        this.state = {\n            post: props.model\n        }\n        this.refreshPostDataFromServer = this.refreshPostDataFromServer.bind(this);\n    }\n\n    refreshPostDataFromServer() {\n        console.log(\"remakePost\");\n        const url = '/api/posts/' + this.state.post.id;\n        fetch(url , {\n            headers: getHeaders()\n        })\n        .then(response => response.json())\n        .then(data => {\n            this.setState({\n                post: data\n            });\n        });\n    }\n    \n    render () {\n        const post = this.state.post;\n        if (!post) {\n            return (\n                <div></div>  \n            );\n        }\n        return (\n            <section className=\"card\">\n                <div className=\"header\">\n                    <h3>{ post.user.username }</h3>\n                    <i className=\"fas fa-ellipsis-h\"></i>\n                </div>\n                \n                <img \n                    src={ post.image_url } \n                    alt={'Image posted by ' +  post.user.username } \n                    width=\"300\" \n                    height=\"300\" />\n                \n                <div className=\"info\">\n                    <div>\n                        <LikeButton \n                            likeId={post.current_user_like_id}\n                            postId={post.id}\n                            refreshPost={this.refreshPostDataFromServer}\n                        />\n                        <i className=\"far fa-comment\"></i>\n                        <i className=\"far fa-paper-plane\"></i>\n\n                        <BookmarkButton\n                            bookmarkId={post.current_user_bookmark_id}\n                            postId={post.id}\n                            refreshPost={this.refreshPostDataFromServer}\n                        />\n                        Additional data / controls go here...\n                    </div>\n                    <p>{ post.caption }</p>\n                </div>\n                <Comments comments={post.comments} postId={post.id}/>\n\n                <AddComment\n                    postId={post.id}\n                    refreshPost={this.refreshPostDataFromServer}\n                />\n            </section> \n        );     \n    }\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/abalamurugan/Desktop/photo-app-react/src/Suggestion.js\";\nimport React from 'react';\nimport LikeButton from './LikeButton';\nimport BookmarkButton from './BookmarkButton';\nimport AddComment from './AddComment';\nimport Comments from './Comments';\nimport { getHeaders } from './utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Suggestion extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suggestion: props.model\n    };\n    this.toggleFollow = this.toggleFollow.bind(this);\n    this.follow = this.toggleFollow.bind(this);\n  }\n\n  toggleFollow() {\n    if (this.props.followingId) {\n      this.unfollow();\n    } else {\n      this.follow();\n    }\n  }\n\n  follow() {\n    const postData = {\n      \"user_id\": userId\n    };\n    fetch('/api/following/', {\n      method: \"POST\",\n      headers: getHeaders(),\n      body: JSON.stringify(postData)\n    }).then(response => response.json()).then(data => {\n      this.props.refreshPost();\n    });\n  }\n\n  unfollow() {\n    // issue delete request\n    const deleteURL = `api/following/${followingId}`;\n    fetch(deleteURL, {\n      method: \"DELETE\",\n      headers: getHeaders()\n    }).then(response => response.json()).then(data => {\n      // this.props.remakePost()\n      console.log(data);\n      this.props.refreshPost();\n    });\n  }\n\n  render() {\n    const suggestion = this.state.suggestion;\n\n    if (!suggestion) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"suggestion\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"suggestion\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: suggestion.thumb_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"username\",\n            children: suggestion.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"suggestion-text\",\n            children: \"suggested for you\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"follow\",\n            \"aria-label\": \"Follow\",\n            \"aria-checked\": \"false\",\n            \"data-user-id\": suggestion.id,\n            onclick: this.toggleFollow,\n            children: \"follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Suggestion;","map":{"version":3,"sources":["/Users/abalamurugan/Desktop/photo-app-react/src/Suggestion.js"],"names":["React","LikeButton","BookmarkButton","AddComment","Comments","getHeaders","Suggestion","Component","constructor","props","state","suggestion","model","toggleFollow","bind","follow","followingId","unfollow","postData","userId","fetch","method","headers","body","JSON","stringify","then","response","json","data","refreshPost","deleteURL","console","log","render","thumb_url","username","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LikeButton from './LikeButton';\nimport BookmarkButton from './BookmarkButton';\nimport AddComment from './AddComment';\nimport Comments from './Comments';\nimport {getHeaders} from './utils';\n\nclass Suggestion extends React.Component {  \n\n    constructor(props) {\n        super(props);\n        this.state = {\n            suggestion: props.model\n        }\n        this.toggleFollow = this.toggleFollow.bind(this);\n        this.follow = this.toggleFollow.bind(this);\n    }\n\n    toggleFollow() {\n        if(this.props.followingId) {\n            this.unfollow();\n        } else {\n            this.follow();\n        }\n    }\n\n   follow () {\n        const postData = {\n            \"user_id\": userId\n        };\n        \n        fetch('/api/following/', {\n                method: \"POST\",\n                headers: getHeaders(),\n                body: JSON.stringify(postData)\n            })\n            .then(response => response.json())\n            .then(data => {\n            this.props.refreshPost();\n        })\n    };\n    \n    unfollow() {\n        // issue delete request\n        const deleteURL = `api/following/${followingId}`;\n        fetch(deleteURL, {\n                method: \"DELETE\",\n                headers: getHeaders()\n            })\n            .then(response => response.json())\n            .then(data => {\n            // this.props.remakePost()\n            console.log(data)\n            this.props.refreshPost();\n        })\n    };\n    \n    \n    render () {\n        const suggestion = this.state.suggestion;\n        if (!suggestion) {\n            return (\n                <div></div>  \n            );\n        }\n        return (\n            <section className=\"suggestion\">\n                <div class=\"suggestion\">\n                    <img src={suggestion.thumb_url} />\n                    <div>\n                        <p class=\"username\">{suggestion.username}</p>\n                        <p class=\"suggestion-text\">suggested for you</p>\n                    </div>\n                    <div>\n                        <button class = \"follow\" \n                        aria-label = \"Follow\"\n                        aria-checked = \"false\"\n                        data-user-id = {suggestion.id} \n                        onclick = {this.toggleFollow}>follow</button>\n                    </div>\n                </div>\n            </section> \n        );     \n    }\n}\n\nexport default Suggestion;"]},"metadata":{},"sourceType":"module"}
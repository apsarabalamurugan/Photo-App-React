{"ast":null,"code":"var _jsxFileName = \"/Users/abalamurugan/Desktop/photo-app-react/src/AddComment.js\";\nimport React from 'react';\nimport { getHeaders } from './utils.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddComment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.addComment = this.addComment.bind(this);\n    this.state = {\n      value: ''\n    };\n    this.commentRef = /*#__PURE__*/React.createRef(); // this.remakePost = this.props.remakePost.bind(this);\n  }\n\n  addComment() {\n    // const postId = this.props.postId;\n    const url = `/api/comments`;\n    const postData = {\n      post_id: this.props.postId,\n      text: this.state.value\n    };\n    fetch(url, {\n      headers: getHeaders(),\n      method: 'POST',\n      body: JSON.stringify(postData)\n    }).then(response => response.json()).then(data => {\n      this.props.refreshPost();\n      this.setState({\n        value: ''\n      });\n      this.commentRef.current.focus();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add_comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-smile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\" // id=\"writteCommentFor${post.id}\"\n          ,\n          \"aria-label\": \"Add a comment...\",\n          placeholder: \"Add a comment...\",\n          value: this.state.value,\n          ref: this.commentRef,\n          onChange: this.handleChange // data-user-id=\"${post.user.id}\"\n          // data-username=\"${post.user.username}\"\n          // data-comment-id=\"${post.comments.id}\"\n          // data-post-id=\"${post.id}\"\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"comment_button\",\n        \"data-post-id\": \"${post.id}\",\n        \"data-post-comments\": \"${post.comments}\",\n        onClick: this.refreshPost,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddComment;","map":{"version":3,"sources":["/Users/abalamurugan/Desktop/photo-app-react/src/AddComment.js"],"names":["React","getHeaders","AddComment","Component","constructor","props","addComment","bind","state","value","commentRef","createRef","url","postData","post_id","postId","text","fetch","headers","method","body","JSON","stringify","then","response","json","data","refreshPost","setState","current","focus","render","handleChange"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,YAAzB;;;AAEA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AAErCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAb;AACA,SAAKC,UAAL,gBAAkBV,KAAK,CAACW,SAAN,EAAlB,CALe,CAMf;AACH;;AAEDL,EAAAA,UAAU,GAAI;AACV;AACA,UAAMM,GAAG,GAAI,eAAb;AACA,UAAMC,QAAQ,GAAG;AACbC,MAAAA,OAAO,EAAG,KAAKT,KAAL,CAAWU,MADR;AAEbC,MAAAA,IAAI,EAAE,KAAKR,KAAL,CAAWC;AAFJ,KAAjB;AAIAQ,IAAAA,KAAK,CAACL,GAAD,EAAM;AACPM,MAAAA,OAAO,EAAEjB,UAAU,EADZ;AAEPkB,MAAAA,MAAM,EAAE,MAFD;AAGPC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,QAAf;AAHC,KAAN,CAAL,CAKCU,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMG,IAAI,IAAI;AACV,WAAKrB,KAAL,CAAWsB,WAAX;AACA,WAAKC,QAAL,CAAc;AAACnB,QAAAA,KAAK,EAAE;AAAR,OAAd;AACA,WAAKC,UAAL,CAAgBmB,OAAhB,CAAwBC,KAAxB;AACH,KAVD;AAYH;;AAEDC,EAAAA,MAAM,GAAI;AACN,wBACI;AAAA,8BACA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACI;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,IAAI,EAAC,MAAZ,CACI;AADJ;AAEI,wBAAW,kBAFf;AAGI,UAAA,WAAW,EAAC,kBAHhB;AAII,UAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWC,KAJtB;AAKI,UAAA,GAAG,EAAE,KAAKC,UALd;AAMI,UAAA,QAAQ,EAAE,KAAKsB,YANnB,CAOI;AACA;AACA;AACA;;AAVJ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAgBA;AACI,QAAA,SAAS,EAAC,gBADd;AAEI,wBAAa,YAFjB;AAGI,8BAAmB,kBAHvB;AAII,QAAA,OAAO,EAAE,KAAKL,WAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAyBU;;AA1DuB;;AA4DzC,eAAezB,UAAf","sourcesContent":["\nimport React from 'react';\nimport {getHeaders} from './utils.js';\n\nclass AddComment extends React.Component { \n\n    constructor(props) {\n        super(props);\n\n        this.addComment = this.addComment.bind(this);\n        this.state = {value: ''};\n        this.commentRef = React.createRef();\n        // this.remakePost = this.props.remakePost.bind(this);\n    }\n\n    addComment () {\n        // const postId = this.props.postId;\n        const url = `/api/comments`\n        const postData = {\n            post_id : this.props.postId,\n            text: this.state.value\n        }\n        fetch(url, {\n            headers: getHeaders(),\n            method: 'POST',\n            body: JSON.stringify(postData),\n        })\n        .then(response => response.json())\n        .then(data => {\n            this.props.refreshPost();\n            this.setState({value: ''});\n            this.commentRef.current.focus();\n        })\n\n    }\n\n    render () { \n        return(\n            <div>\n            <div className=\"add_comment\">\n                <i className=\"far fa-smile\"></i>\n                <input type=\"text\"\n                    // id=\"writteCommentFor${post.id}\"\n                    aria-label=\"Add a comment...\"\n                    placeholder=\"Add a comment...\"\n                    value={this.state.value}\n                    ref={this.commentRef}\n                    onChange={this.handleChange}\n                    // data-user-id=\"${post.user.id}\"\n                    // data-username=\"${post.user.username}\"\n                    // data-comment-id=\"${post.comments.id}\"\n                    // data-post-id=\"${post.id}\"\n                />\n            </div>\n            <button\n                className=\"comment_button\"\n                data-post-id=\"${post.id}\"\n                data-post-comments=\"${post.comments}\"\n                onClick={this.refreshPost}>\n                Post\n            </button>\n            </div>\n               );}\n}          \nexport default AddComment;\n"]},"metadata":{},"sourceType":"module"}
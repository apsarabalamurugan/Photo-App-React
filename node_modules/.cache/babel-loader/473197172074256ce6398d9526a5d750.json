{"ast":null,"code":"var _jsxFileName = \"/Users/abalamurugan/Desktop/photo-app-react/src/AddComment.js\";\nimport React from 'react';\nimport { getHeaders } from './utils.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddComment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.addComment = this.addComment.bind(this);\n    this.state = {\n      value: ''\n    };\n    this.commentRef = /*#__PURE__*/React.createRef();\n    this.handleChange = this.handleChange.bind(this); // this.remakePost = this.props.remakePost.bind(this);\n  }\n\n  handleChange(ev) {\n    this.setState({\n      value: ev.target.value\n    });\n  }\n\n  addComment() {\n    // const postId = this.props.postId;\n    const url = `/api/comments`;\n    const postData = {\n      post_id: this.props.postId,\n      text: this.state.value\n    };\n    fetch(url, {\n      headers: getHeaders(),\n      method: 'POST',\n      body: JSON.stringify(postData)\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      this.setState({\n        value: ''\n      });\n      this.commentRef.current.focus();\n      this.props.refreshPost();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add_comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-smile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\" // id=\"writteCommentFor${post.id}\"\n          ,\n          \"aria-label\": \"Add a comment...\",\n          placeholder: \"Add a comment...\",\n          value: this.state.value,\n          ref: this.commentRef,\n          onChange: this.handleChange // data-user-id=\"${post.user.id}\"\n          // data-username=\"${post.user.username}\"\n          // data-comment-id=\"${post.comments.id}\"\n          // data-post-id=\"${post.id}\"\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"comment_button\",\n        \"data-post-id\": post.id,\n        \"data-post-comments\": post.comments,\n        onClick: this.addComment,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddComment;","map":{"version":3,"sources":["/Users/abalamurugan/Desktop/photo-app-react/src/AddComment.js"],"names":["React","getHeaders","AddComment","Component","constructor","props","addComment","bind","state","value","commentRef","createRef","handleChange","ev","setState","target","url","postData","post_id","postId","text","fetch","headers","method","body","JSON","stringify","then","response","json","data","console","log","current","focus","refreshPost","render","post","id","comments"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,YAAzB;;;AAEA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AAErCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAb;AACA,SAAKC,UAAL,gBAAkBV,KAAK,CAACW,SAAN,EAAlB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBL,IAAlB,CAAuB,IAAvB,CAApB,CANe,CAOf;AACH;;AAEDK,EAAAA,YAAY,CAACC,EAAD,EAAK;AACb,SAAKC,QAAL,CAAc;AAACL,MAAAA,KAAK,EAAEI,EAAE,CAACE,MAAH,CAAUN;AAAlB,KAAd;AACH;;AAEDH,EAAAA,UAAU,GAAI;AACV;AACA,UAAMU,GAAG,GAAI,eAAb;AACA,UAAMC,QAAQ,GAAG;AACbC,MAAAA,OAAO,EAAG,KAAKb,KAAL,CAAWc,MADR;AAEbC,MAAAA,IAAI,EAAE,KAAKZ,KAAL,CAAWC;AAFJ,KAAjB;AAIAY,IAAAA,KAAK,CAACL,GAAD,EAAM;AACPM,MAAAA,OAAO,EAAErB,UAAU,EADZ;AAEPsB,MAAAA,MAAM,EAAE,MAFD;AAGPC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,QAAf;AAHC,KAAN,CAAL,CAKCU,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,WAAKhB,QAAL,CAAc;AAACL,QAAAA,KAAK,EAAE;AAAR,OAAd;AACA,WAAKC,UAAL,CAAgBuB,OAAhB,CAAwBC,KAAxB;AACA,WAAK7B,KAAL,CAAW8B,WAAX;AACH,KAXD;AAaH;;AAEDC,EAAAA,MAAM,GAAI;AACN,wBACI;AAAA,8BACA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACI;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,IAAI,EAAC,MAAZ,CACI;AADJ;AAEI,wBAAW,kBAFf;AAGI,UAAA,WAAW,EAAC,kBAHhB;AAII,UAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWC,KAJtB;AAKI,UAAA,GAAG,EAAE,KAAKC,UALd;AAMI,UAAA,QAAQ,EAAE,KAAKE,YANnB,CAOI;AACA;AACA;AACA;;AAVJ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAgBA;AACI,QAAA,SAAS,EAAC,gBADd;AAEI,wBAAcyB,IAAI,CAACC,EAFvB;AAGI,8BAAoBD,IAAI,CAACE,QAH7B;AAII,QAAA,OAAO,EAAE,KAAKjC,UAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAyBU;;AAhEuB;;AAkEzC,eAAeJ,UAAf","sourcesContent":["\nimport React from 'react';\nimport {getHeaders} from './utils.js';\n\nclass AddComment extends React.Component { \n\n    constructor(props) {\n        super(props);\n\n        this.addComment = this.addComment.bind(this);\n        this.state = {value: ''};\n        this.commentRef = React.createRef();\n        this.handleChange = this.handleChange.bind(this);\n        // this.remakePost = this.props.remakePost.bind(this);\n    }\n\n    handleChange(ev) {\n        this.setState({value: ev.target.value});\n    }\n\n    addComment () {\n        // const postId = this.props.postId;\n        const url = `/api/comments`\n        const postData = {\n            post_id : this.props.postId,\n            text: this.state.value\n        }\n        fetch(url, {\n            headers: getHeaders(),\n            method: 'POST',\n            body: JSON.stringify(postData),\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n            this.setState({value: ''});\n            this.commentRef.current.focus();\n            this.props.refreshPost();\n        })\n\n    }\n\n    render () { \n        return(\n            <div>\n            <div className=\"add_comment\">\n                <i className=\"far fa-smile\"></i>\n                <input type=\"text\"\n                    // id=\"writteCommentFor${post.id}\"\n                    aria-label=\"Add a comment...\"\n                    placeholder=\"Add a comment...\"\n                    value={this.state.value}\n                    ref={this.commentRef}\n                    onChange={this.handleChange}\n                    // data-user-id=\"${post.user.id}\"\n                    // data-username=\"${post.user.username}\"\n                    // data-comment-id=\"${post.comments.id}\"\n                    // data-post-id=\"${post.id}\"\n                />\n            </div>\n            <button\n                className=\"comment_button\"\n                data-post-id={post.id}\n                data-post-comments={post.comments}\n                onClick={this.addComment}>\n                Post\n            </button>\n            </div>\n               );}\n}          \nexport default AddComment;\n"]},"metadata":{},"sourceType":"module"}
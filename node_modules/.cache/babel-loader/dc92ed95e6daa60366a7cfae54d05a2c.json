{"ast":null,"code":"var _jsxFileName = \"/Users/abalamurugan/Desktop/photo-app-react/src/AddComment.js\";\nimport React from 'react';\nimport { getHeaders } from './utils.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddComment extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._handleKeyDown = ev => {\n      if (ev.key === 'Enter') {\n        console.log('do validate');\n      }\n    };\n\n    this.addComment = this.addComment.bind(this);\n    this.state = {\n      value: ''\n    };\n    this.commentRef = /*#__PURE__*/React.createRef();\n    this.handleChange = this.handleChange.bind(this); // this.remakePost = this.props.remakePost.bind(this);\n  }\n\n  handleChange(ev) {\n    this.setState({\n      value: ev.target.value\n    });\n  }\n\n  addComment() {\n    // const postId = this.props.postId;\n    const url = `/api/comments`;\n    const postData = {\n      post_id: this.props.postId,\n      text: this.state.value\n    };\n    fetch(url, {\n      headers: getHeaders(),\n      method: 'POST',\n      body: JSON.stringify(postData)\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      this.setState({\n        value: ''\n      });\n      this.commentRef.current.focus();\n      this.props.refreshPost();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add_comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-smile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\" // id=\"writteCommentFor${post.id}\"\n          ,\n          \"aria-label\": \"Add a comment...\",\n          placeholder: \"Add a comment...\",\n          value: this.state.value,\n          ref: this.commentRef,\n          onChange: this.handleChange // data-user-id=\"${post.user.id}\"\n          // data-username=\"${post.user.username}\"\n          // data-comment-id=\"${post.comments.id}\"\n          // data-post-id=\"${post.id}\"\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"comment_button\",\n        onKeyDown: this._handleKeyDown // data-post-id={post.id}\n        // data-post-comments={post.comments}\n        ,\n        onClick: this.addComment,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddComment;","map":{"version":3,"sources":["/Users/abalamurugan/Desktop/photo-app-react/src/AddComment.js"],"names":["React","getHeaders","AddComment","Component","constructor","props","_handleKeyDown","ev","key","console","log","addComment","bind","state","value","commentRef","createRef","handleChange","setState","target","url","postData","post_id","postId","text","fetch","headers","method","body","JSON","stringify","then","response","json","data","current","focus","refreshPost","render"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,YAAzB;;;AAEA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AAErCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAcnBC,cAdmB,GAcDC,EAAD,IAAQ;AACrB,UAAIA,EAAE,CAACC,GAAH,KAAW,OAAf,EAAwB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,KAlBgB;;AAGf,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAb;AACA,SAAKC,UAAL,gBAAkBf,KAAK,CAACgB,SAAN,EAAlB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBL,IAAlB,CAAuB,IAAvB,CAApB,CANe,CAOf;AACH;;AAEDK,EAAAA,YAAY,CAACV,EAAD,EAAK;AACb,SAAKW,QAAL,CAAc;AAACJ,MAAAA,KAAK,EAAEP,EAAE,CAACY,MAAH,CAAUL;AAAlB,KAAd;AACH;;AAQDH,EAAAA,UAAU,GAAI;AACV;AACA,UAAMS,GAAG,GAAI,eAAb;AACA,UAAMC,QAAQ,GAAG;AACbC,MAAAA,OAAO,EAAG,KAAKjB,KAAL,CAAWkB,MADR;AAEbC,MAAAA,IAAI,EAAE,KAAKX,KAAL,CAAWC;AAFJ,KAAjB;AAIAW,IAAAA,KAAK,CAACL,GAAD,EAAM;AACPM,MAAAA,OAAO,EAAEzB,UAAU,EADZ;AAEP0B,MAAAA,MAAM,EAAE,MAFD;AAGPC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,QAAf;AAHC,KAAN,CAAL,CAKCU,IALD,CAKMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EALlB,EAMCF,IAND,CAMMG,IAAI,IAAI;AACVzB,MAAAA,OAAO,CAACC,GAAR,CAAYwB,IAAZ;AACA,WAAKhB,QAAL,CAAc;AAACJ,QAAAA,KAAK,EAAE;AAAR,OAAd;AACA,WAAKC,UAAL,CAAgBoB,OAAhB,CAAwBC,KAAxB;AACA,WAAK/B,KAAL,CAAWgC,WAAX;AACH,KAXD;AAaH;;AAEDC,EAAAA,MAAM,GAAI;AACN,wBACI;AAAA,8BACA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACI;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,IAAI,EAAC,MAAZ,CACI;AADJ;AAEI,wBAAW,kBAFf;AAGI,UAAA,WAAW,EAAC,kBAHhB;AAII,UAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWC,KAJtB;AAKI,UAAA,GAAG,EAAE,KAAKC,UALd;AAMI,UAAA,QAAQ,EAAE,KAAKE,YANnB,CAOI;AACA;AACA;AACA;;AAVJ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAgBA;AACI,QAAA,SAAS,EAAC,gBADd;AAEI,QAAA,SAAS,EAAE,KAAKX,cAFpB,CAGI;AACA;AAJJ;AAKI,QAAA,OAAO,EAAE,KAAKK,UALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA0BU;;AAvEuB;;AAyEzC,eAAeT,UAAf","sourcesContent":["\nimport React from 'react';\nimport {getHeaders} from './utils.js';\n\nclass AddComment extends React.Component { \n\n    constructor(props) {\n        super(props);\n\n        this.addComment = this.addComment.bind(this);\n        this.state = {value: ''};\n        this.commentRef = React.createRef();\n        this.handleChange = this.handleChange.bind(this);\n        // this.remakePost = this.props.remakePost.bind(this);\n    }\n\n    handleChange(ev) {\n        this.setState({value: ev.target.value});\n    }\n    \n    _handleKeyDown = (ev) => {\n        if (ev.key === 'Enter') {\n          console.log('do validate');\n        }\n      }\n\n    addComment () {\n        // const postId = this.props.postId;\n        const url = `/api/comments`\n        const postData = {\n            post_id : this.props.postId,\n            text: this.state.value\n        }\n        fetch(url, {\n            headers: getHeaders(),\n            method: 'POST',\n            body: JSON.stringify(postData),\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n            this.setState({value: ''});\n            this.commentRef.current.focus();\n            this.props.refreshPost();\n        })\n\n    }\n\n    render () { \n        return(\n            <div>\n            <div className=\"add_comment\">\n                <i className=\"far fa-smile\"></i>\n                <input type=\"text\"\n                    // id=\"writteCommentFor${post.id}\"\n                    aria-label=\"Add a comment...\"\n                    placeholder=\"Add a comment...\"\n                    value={this.state.value}\n                    ref={this.commentRef}\n                    onChange={this.handleChange}\n                    // data-user-id=\"${post.user.id}\"\n                    // data-username=\"${post.user.username}\"\n                    // data-comment-id=\"${post.comments.id}\"\n                    // data-post-id=\"${post.id}\"\n                />\n            </div>\n            <button\n                className=\"comment_button\"\n                onKeyDown={this._handleKeyDown}\n                // data-post-id={post.id}\n                // data-post-comments={post.comments}\n                onClick={this.addComment}>\n                Post\n            </button>\n            </div>\n               );}\n}          \nexport default AddComment;\n"]},"metadata":{},"sourceType":"module"}